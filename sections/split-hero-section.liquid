{% assign uid = section.id | replace: '_', '' | downcase %}

{%- comment -%}
Build gradient string (linear or radial) with up to 4 colors.
{%- endcomment -%}
{% capture gradient_bg %}
  {% if section.settings.use_gradient %}
    {% if section.settings.grad_type == 'linear' %}
      linear-gradient({{ section.settings.grad_angle }}deg,
        {{ section.settings.grad_color_1 }} {{ section.settings.grad_stop_1 }}%,
        {{ section.settings.grad_color_2 }} {{ section.settings.grad_stop_2 }}%
        {% if section.settings.enable_grad_color_3 %}, {{ section.settings.grad_color_3 }} {{ section.settings.grad_stop_3 }}%{% endif %}
        {% if section.settings.enable_grad_color_4 %}, {{ section.settings.grad_color_4 }} {{ section.settings.grad_stop_4 }}%{% endif %}
      )
    {% else %}
      radial-gradient(
        circle at {{ section.settings.radial_position }},
        {{ section.settings.grad_color_1 }} {{ section.settings.grad_stop_1 }}%,
        {{ section.settings.grad_color_2 }} {{ section.settings.grad_stop_2 }}%,
        {% if section.settings.enable_grad_color_3 %}{{ section.settings.grad_color_3 }} {{ section.settings.grad_stop_3 }}%,{% endif %}
        {% if section.settings.enable_grad_color_4 %}{{ section.settings.grad_color_4 }} {{ section.settings.grad_stop_4 }}%{% endif %}
      )
    {% endif %}
  {% endif %}
{% endcapture %}

{%- comment -%}
Compute RGBA for category card background (opacity controlled in settings)
{%- endcomment -%}
{% liquid
  assign _bg_rgb = section.settings.category_bg_color | color_to_rgb
  assign _bg_rgb_vals = _bg_rgb | replace: 'rgb(', '' | replace: ')', ''
  assign _bg_alpha = section.settings.category_bg_opacity | times: 0.01
%}

<section
  id="split-hero-{{ uid }}"
  class="ai-split-section-{{ uid }}"
  data-bg-effect="{{ section.settings.background_effect }}"
  style="
    {% if section.settings.use_gradient and gradient_bg != blank %}
      background: {{ gradient_bg | strip | strip_newlines }};
    {% else %}
      background-color: {{ section.settings.background_color }};
    {% endif %}
    --card-bg: rgba({{ _bg_rgb_vals }}, {{ _bg_alpha }});
    --card-border-width: {{ section.settings.category_border_width }}px;
    --card-border-color: {{ section.settings.category_border_color }};
    --hover-rotate-deg: {{ section.settings.image_hover_rotate_deg }}deg;
  "
>
  {% if section.settings.background_image %}
    <div class="ai-split-section-bg-{{ uid }} ai-split-section-bg-{{ uid }}--{{ section.settings.background_effect }}">
      {% if section.settings.background_effect == 'fixed' %}
        <div
          style="
            background-image: url('{{ section.settings.background_image | image_url: width: 2000 }}');
            background-attachment: fixed;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: {{ section.settings.image_alignment }};
            width: 100%;
            height: 100%;
          "
        ></div>
      {% else %}
        <img
          src="{{ section.settings.background_image | image_url: width: 2000 }}"
          alt="{{ section.settings.background_image.alt | escape }}"
          loading="lazy"
          width="{{ section.settings.background_image.width }}"
          height="{{ section.settings.background_image.height }}"
        >
      {% endif %}
    </div>
  {% endif %}

  <div class="ai-split-section-content-{{ uid }}">
    <div class="ai-split-section-container-{{ uid }}">
      <!-- Left column -->
      <div class="ai-split-section-left-{{ uid }}">
        {% if section.settings.heading != blank %}
          <h1 class="ai-split-section-heading-{{ uid }}">{{ section.settings.heading }}</h1>
        {% endif %}

        {% if section.settings.subheading != blank %}
          <h2 class="ai-split-section-subheading-{{ uid }}">{{ section.settings.subheading }}</h2>
        {% endif %}

        {% if section.settings.description != blank %}
          <div class="ai-split-section-description-{{ uid }}">{{ section.settings.description }}</div>
        {% endif %}

        {% if section.settings.show_categories %}
          <div class="ai-split-section-categories-wrapper-{{ uid }}">
            <div class="ai-split-section-categories-{{ uid }}">
              {% for i in (1..4) %}
                {% liquid
                  assign category_enabled_key = 'enable_category_' | append: i
                  assign category_key         = 'category_' | append: i
                  assign category_image_key   = 'category_' | append: i | append: '_image'
                  assign category_title_key   = 'category_' | append: i | append: '_title'
                  assign show_title_key       = 'show_category_' | append: i | append: '_title'

                  assign category_enabled = section.settings[category_enabled_key]
                  assign category         = section.settings[category_key]
                  assign category_image   = section.settings[category_image_key]
                  assign category_title   = section.settings[category_title_key]
                  assign show_title       = section.settings[show_title_key]
                %}

                {% if category_enabled %}
                  {% if category != blank or category_image != blank or category_title != blank %}
                    <a
                      href="{% if category != blank %}{{ category.url }}{% else %}#{% endif %}"
                      class="ai-split-section-category-{{ uid }}{% if section.settings.enable_category_shadow %} ai-split-section-category-{{ uid }}--shadow{% endif %}"
                    >
                      <div class="ai-split-section-category-image-{{ uid }}">
                        {% if category_image %}
                          <img
                            src="{{ category_image | image_url: width: 400 }}"
                            alt="{{ category_image.alt | escape }}"
                            loading="lazy"
                            width="400"
                            height="200"
                          >
                        {% elsif category != blank and category.featured_image %}
                          <img
                            src="{{ category.featured_image | image_url: width: 400 }}"
                            alt="{{ category.featured_image.alt | escape }}"
                            loading="lazy"
                            width="400"
                            height="200"
                          >
                        {% else %}
                          <div class="ai-split-section-category-placeholder-{{ uid }}">
                            {{ 'collection-apparel-1' | placeholder_svg_tag }}
                          </div>
                        {% endif %}

                        {% if show_title %}
                          <!-- Visible overlay on hover/focus (no typography overrides) -->
                          <div class="ai-category-title-overlay-{{ uid }}" aria-hidden="true">
                            <span class="ai-category-title-text-{{ uid }}">
                              {% if category_title != blank %}
                                {{ category_title }}
                              {% elsif category != blank %}
                                {{ category.title }}
                              {% else %}
                                Category {{ i }}
                              {% endif %}
                            </span>
                          </div>
                        {% endif %}
                      </div>

                      {% if show_title %}
                        <!-- Semantic title for SEO and screen readers -->
                        <h4 class="ai-sr-only-{{ uid }}">
                          {% if category_title != blank %}
                            {{ category_title }}
                          {% elsif category != blank %}
                            {{ category.title }}
                          {% else %}
                            Category {{ i }}
                          {% endif %}
                        </h4>
                      {% endif %}
                    </a>
                  {% else %}
                    <div class="ai-split-section-empty-category-{{ uid }}">
                      Configure category {{ i }}
                    </div>
                  {% endif %}
                {% endif %}
              {% endfor %}
            </div>
          </div>
        {% endif %}
      </div>

      <!-- Right column -->
      <div class="ai-split-section-right-{{ uid }}">
        <div class="ai-split-section-right-image-{{ uid }}">
          {% if section.settings.right_image %}
            <img
              src="{{ section.settings.right_image | image_url: width: 800 }}"
              alt="{{ section.settings.right_image.alt | escape }}"
              loading="lazy"
              width="{{ section.settings.right_image.width }}"
              height="{{ section.settings.right_image.height }}"
              {% unless section.settings.enable_float_animation %}style="animation:none"{% endunless %}
            >
          {% else %}
            <div class="ai-split-section-right-placeholder-{{ uid }}">
              {{ 'image' | placeholder_svg_tag }}
              <div class="ai-split-section-empty-state-{{ uid }}">
                Add an image for the right side
              </div>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
/* Wrapper */
.ai-split-section-{{ uid }}{
  position: relative;
  min-height: 500px;
  overflow: hidden;
}

/* Background layer */
.ai-split-section-bg-{{ uid }}{ position:absolute; inset:0; z-index:1; }
.ai-split-section-bg-{{ uid }} img{
  width:100%; height:100%;
  object-fit:cover; object-position: {{ section.settings.image_alignment }};
}
.ai-split-section-bg-{{ uid }}--parallax{ transform: translateZ(0); will-change: transform; }

/* Foreground content with adjustable padding */
.ai-split-section-content-{{ uid }}{
  position: relative; z-index:2;
  padding: {{ section.settings.padding_top }}px 20px {{ section.settings.padding_bottom }}px 20px;
  min-height:500px;
}
.ai-split-section-container-{{ uid }}{
  max-width: 1200px; margin:0 auto;
  display:grid; grid-template-columns: 1fr 1fr; gap:60px; align-items:center; min-height:400px;
}

/* Left column text alignment */
.ai-split-section-left-{{ uid }}{
  display:flex; flex-direction:column; gap:24px; text-align: {{ section.settings.content_alignment }};
}

/* Theme typography (sizes/colors controlled by settings) */
.ai-split-section-heading-{{ uid }}{
  font-size: {{ section.settings.heading_size }}px; color: {{ section.settings.heading_color }};
  margin:0; line-height:1.2; font-weight: 800 ;
}
.ai-split-section-subheading-{{ uid }}{
  font-size: {{ section.settings.subheading_size }}px; color: {{ section.settings.subheading_color }};
  margin:0; line-height:1.4;
}
.ai-split-section-description-{{ uid }}{
  font-size: {{ section.settings.description_size }}px; color: {{ section.settings.description_color }};
  margin:0; line-height:1.6;
}

/* Categories alignment wrapper */
.ai-split-section-categories-wrapper-{{ uid }}{
  display:flex;
  {% if section.settings.categories_alignment == 'left' %}justify-content:flex-start;{% endif %}
  {% if section.settings.categories_alignment == 'center' %}justify-content:center;{% endif %}
  {% if section.settings.categories_alignment == 'right' %}justify-content:flex-end;{% endif %}
}

/* Categories grid (desktop/tablet) */
.ai-split-section-categories-{{ uid }}{
  display:grid;
  grid-template-columns: repeat({{ section.settings.categories_per_row }}, 1fr);
  gap:16px;
  {% if section.settings.enable_image_overflow %}overflow:visible;{% endif %}
  {% if section.settings.categories_alignment == 'center' %}max-width:fit-content;{% endif %}
}

/* Category card */
.ai-split-section-category-{{ uid }}{
  background-color: var(--card-bg);
  border: var(--card-border-width) solid var(--card-border-color);
  border-radius: {{ section.settings.category_border_radius }}px;
  padding:16px; text-decoration:none; color: {{ section.settings.category_text_color }};
  transition:
    transform .45s cubic-bezier(.22,1,.36,1),
    box-shadow .45s cubic-bezier(.22,1,.36,1),
    background-color .45s cubic-bezier(.22,1,.36,1),
    color .45s cubic-bezier(.22,1,.36,1);
  will-change: transform, box-shadow;
  display:block; text-align:center; position:relative;
  {% if section.settings.enable_image_overflow %}overflow:visible;{% endif %}
}
.ai-split-section-category-{{ uid }}:hover{
  color: {{ section.settings.category_hover_text_color }};
  background-color: {{ section.settings.category_hover_bg_color }};
  transform: translateY(-2px);
}
.ai-split-section-category-{{ uid }}:focus-visible{
  outline: 2px solid currentColor;
  outline-offset: 2px;
}
.ai-split-section-category-{{ uid }}--shadow{ box-shadow: 0 4px 12px rgba(0,0,0,.1); }
.ai-split-section-category-{{ uid }}--shadow:hover{ box-shadow: 0 8px 24px rgba(0,0,0,.15); }

/* Category image box */
.ai-split-section-category-image-{{ uid }}{
  width:100%; aspect-ratio: {{ section.settings.category_aspect_ratio }};
  margin-bottom:8px; border-radius: {{ section.settings.category_image_radius }}px;
  background-color: {{ section.settings.category_image_bg_color }};
  {% if section.settings.enable_image_overflow %}overflow:visible; position:relative;{% else %}overflow:hidden; position:relative;{% endif %}
}
.ai-split-section-category-image-{{ uid }} img{
  width:100%; height:100%; object-fit: {{ section.settings.image_fit }};
  border-radius: {{ section.settings.category_image_radius }}px;
  transition: transform .45s cubic-bezier(.22,1,.36,1);
  {% if section.settings.enable_image_overflow %}
    transform: scale({{ section.settings.image_overflow_scale }});
    {% case section.settings.image_overflow_direction %}
      {% when 'top' %}transform-origin:center bottom;
      {% when 'bottom' %}transform-origin:center top;
      {% when 'left' %}transform-origin:right center;
      {% when 'right' %}transform-origin:left center;
      {% when 'top-left' %}transform-origin:right bottom;
      {% when 'top-right' %}transform-origin:left bottom;
      {% when 'bottom-left' %}transform-origin:right top;
      {% when 'bottom-right' %}transform-origin:left top;
      {% else %}transform-origin:center center;
    {% endcase %}
    z-index:2; position:relative;
  {% endif %}
}

/* Subtle rotation on hover */
.ai-split-section-category-{{ uid }}:hover .ai-split-section-category-image-{{ uid }} img{
  {% if section.settings.enable_image_hover_rotate %}
    {% if section.settings.enable_image_overflow %}
      transform: scale({{ section.settings.image_overflow_scale }}) rotate(var(--hover-rotate-deg));
    {% else %}
      transform: rotate(var(--hover-rotate-deg));
    {% endif %}
  {% else %}
    {% if section.settings.enable_image_overflow %}
      transform: scale({{ section.settings.image_overflow_scale }});
    {% else %}
      transform: none;
    {% endif %}
  {% endif %}
}

/* Placeholder */
.ai-split-section-category-placeholder-{{ uid }}{
  width:100%; height:100%; background-color: {{ section.settings.category_image_bg_color }};
  display:flex; align-items:center; justify-content:center; border-radius: {{ section.settings.category_image_radius }}px;
  {% if section.settings.enable_image_overflow %}
    transform: scale({{ section.settings.image_overflow_scale }});
    {% case section.settings.image_overflow_direction %}
      {% when 'top' %}transform-origin:center bottom;
      {% when 'bottom' %}transform-origin:center top;
      {% when 'left' %}transform-origin:right center;
      {% when 'right' %}transform-origin:left center;
      {% when 'top-left' %}transform-origin:right bottom;
      {% when 'top-right' %}transform-origin:left bottom;
      {% when 'bottom-left' %}transform-origin:right top;
      {% when 'bottom-right' %}transform-origin:left top;
      {% else %}transform-origin:center center;
    {% endcase %}
    z-index:2; position:relative;
  {% endif %}
}
.ai-split-section-category-placeholder-{{ uid }} svg{ width:30px; height:30px; opacity:.5; }

/* ==== HOVER TITLE OVERLAY (keeps theme typography) ==== */
.ai-category-title-overlay-{{ uid }}{
  position:absolute; inset:0;
  display:flex; align-items:flex-end; justify-content:center;
  padding:12px;
  background: linear-gradient(0deg, rgba(0,0,0,0.55) 0%, rgba(0,0,0,0) 60%);
  opacity:0; transform: translateY(8px);
  transition: opacity .35s cubic-bezier(.22,1,.36,1), transform .35s cubic-bezier(.22,1,.36,1);
  pointer-events:none;
  border-radius: {{ section.settings.category_image_radius }}px;
}
.ai-category-title-text-{{ uid }}{
  color:#fff; text-align:center;
}
.ai-split-section-category-{{ uid }}:hover .ai-category-title-overlay-{{ uid }},
.ai-split-section-category-{{ uid }}:focus-visible .ai-category-title-overlay-{{ uid }}{
  opacity:1; transform: translateY(0);
}
/* Always show titles on touch devices with no hover */
@media (hover: none){
  .ai-category-title-overlay-{{ uid }}{ opacity:1; transform:none; }
}
/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .ai-category-title-overlay-{{ uid }}{ transition:none; }
}

/* Screen-reader-only helper */
.ai-sr-only-{{ uid }}{
  position:absolute !important;
  width:1px !important;
  height:1px !important;
  padding:0 !important;
  margin:-1px !important;
  overflow:hidden !important;
  clip: rect(0,0,0,0) !important;
  white-space: nowrap !important;
  border:0 !important;
}

/* Right image (floating) */
.ai-split-section-right-{{ uid }}{ position:relative; }
.ai-split-section-right-image-{{ uid }}{
  width:100%; height:100%; min-height:400px; border-radius: {{ section.settings.right_image_radius }}px; overflow:hidden;
}
.ai-split-section-right-image-{{ uid }} img{
  width:100%; height:100%; object-fit:cover;
  animation: ai-float-{{ uid }} {{ section.settings.float_duration }}s ease-in-out infinite;
}
.ai-split-section-right-placeholder-{{ uid }}{
  width:100%; height:100%; min-height:400px; background:#f4f4f4;
  display:flex; align-items:center; justify-content:center; border-radius: {{ section.settings.right_image_radius }}px; position:relative;
}
.ai-split-section-right-placeholder-{{ uid }} svg{
  width:100px; height:100px; opacity:.3; animation: ai-float-{{ uid }} {{ section.settings.float_duration }}s ease-in-out infinite;
}
.ai-split-section-empty-state-{{ uid }}{
  position:absolute; bottom:20px; left:50%; transform:translateX(-50%);
  padding:8px 16px; background:rgba(255,255,255,.9); border-radius:4px; font-size:12px; color:#666; text-align:center; pointer-events:none;
}

/* Float keyframes */
@keyframes ai-float-{{ uid }}{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-{{ section.settings.float_intensity }}px); }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .ai-split-section-right-image-{{ uid }} img,
  .ai-split-section-right-placeholder-{{ uid }} svg{ animation:none !important; }
  .ai-split-section-category-{{ uid }}{ transition: none !important; }
  .ai-split-section-category-image-{{ uid }} img{ transition: none !important; }
}

/* === Mobile layout: heading → image → categories (centered) === */
@media (max-width: 768px){
  /* One-column grid with explicit order */
  .ai-split-section-container-{{ uid }}{
    display: grid;
    grid-template-columns: 1fr;
    grid-template-areas:
      "heading"
      "image"
      "categories";
    align-items: start;
    justify-items: center;
  }

  .ai-split-section-content-template--25476761125173splitherosectionb8mqce {
    padding: 32px 16px 64px 16px;
  }

  .ai-split-section-container-template--25476761125173splitherosectionb8mqce {
    gap: 0;
  }

  /* Flatten left column so its children can be placed in grid areas */
  .ai-split-section-left-{{ uid }}{
    display: contents;
  }

  /* Put heading/subheading/description at the top, centered */
  .ai-split-section-heading-{{ uid }},
  .ai-split-section-subheading-{{ uid }},
  .ai-split-section-description-{{ uid }}{
    grid-area: heading;
    text-align: left;
    line-height: 1;
    width: 100%;
  }

  /* Right image in the middle row, centered */
  .ai-split-section-right-{{ uid }}{
    grid-area: image;
    display: block;
  }
  .ai-split-section-right-image-{{ uid }}{
    max-width: 720px;
    width: 100%;
  }

  /* Categories last, centered */
  .ai-split-section-categories-wrapper-{{ uid }}{
    grid-area: categories;
    justify-content: center;
    width: 100%;
  }

  /* Make category grid single/two-column on mobile */
  .ai-split-section-categories-{{ uid }}{
    display: grid;
    grid-template-columns: repeat({{ section.settings.categories_per_row_mobile }}, 1fr);
    gap: 12px;
    width: 100%;
    margin: 0 auto;
  }

  /* Optional: center text inside cards (already centered by default) */
  .ai-split-section-category-{{ uid }}{
    text-align: center;
  }
}
</style>

<script>
  // Parallax + robust drag-to-scroll (covers iOS Safari)
  document.addEventListener('DOMContentLoaded', function(){
    var section = document.getElementById('split-hero-{{ uid }}');
    if (!section) return;

    /* Parallax */
    if (section.dataset.bgEffect === 'parallax') {
      var bg = section.querySelector('.ai-split-section-bg-{{ uid }}');
      if (bg){
        var onScroll = function(){
          var rect = section.getBoundingClientRect();
          if (rect.bottom < 0 || rect.top > window.innerHeight) return;
          var scrolled = window.pageYOffset || document.documentElement.scrollTop || 0;
          var rate = scrolled * -0.5;
          bg.style.transform = 'translateY(' + rate + 'px)';
        };
        window.addEventListener('scroll', onScroll, { passive: true });
        onScroll();
      }
    }

    /* Drag-to-scroll for categories */
    var scroller = section.querySelector('.ai-split-section-categories-{{ uid }}');
    if (!scroller) return;

    // Ensure momentum on iOS
    scroller.style.webkitOverflowScrolling = 'touch';

    var isPointerDown = false, startX = 0, startY = 0, startScroll = 0, moved = false;

    // Pointer events (modern browsers)
    scroller.addEventListener('pointerdown', function(e){
      isPointerDown = true; moved = false;
      startX = e.clientX; startY = e.clientY; startScroll = scroller.scrollLeft;
      try { scroller.setPointerCapture(e.pointerId); } catch(e){}
    });
    scroller.addEventListener('pointermove', function(e){
      if (!isPointerDown) return;
      var dx = e.clientX - startX;
      scroller.scrollLeft = startScroll - dx;
      if (Math.abs(dx) > 6) moved = true;
    });
    ['pointerup','pointercancel','pointerleave'].forEach(function(ev){
      scroller.addEventListener(ev, function(){ isPointerDown = false; });
    });

    // Touch fallback (older iOS Safari)
    scroller.addEventListener('touchstart', function(e){
      if (!e.touches || !e.touches.length) return;
      startX = e.touches[0].pageX;
      startY = e.touches[0].pageY;
      startScroll = scroller.scrollLeft;
      moved = false;
    }, { passive: true });

    scroller.addEventListener('touchmove', function(e){
      if (!e.touches || !e.touches.length) return;
      var dx = e.touches[0].pageX - startX;
      var dy = e.touches[0].pageY - startY;

      // Only hijack when the gesture is mostly horizontal
      if (Math.abs(dx) > Math.abs(dy)) {
        e.preventDefault();
        scroller.scrollLeft = startScroll - dx;
        if (Math.abs(dx) > 6) moved = true;
      }
    }, { passive: false });

    scroller.addEventListener('touchend', function(){ /* momentum continues */ }, { passive: true });

    // Prevent accidental link taps while dragging
    scroller.addEventListener('click', function(e){
      if (moved) { e.preventDefault(); e.stopPropagation(); }
    }, true);
  });
</script>

{% schema %}
{
  "name": "Split hero section",
  "settings": [
    { "type": "header", "content": "Section spacing" },
    { "type": "range", "id": "padding_top", "label": "Padding top", "min": 0, "max": 200, "step": 5, "default": 60, "unit": "px" },
    { "type": "range", "id": "padding_bottom", "label": "Padding bottom", "min": 0, "max": 200, "step": 5, "default": 60, "unit": "px" },

    { "type": "header", "content": "Background image (optional)" },
    { "type": "image_picker", "id": "background_image", "label": "Background image" },
    { "type": "select", "id": "image_alignment", "label": "Background image alignment",
      "options": [{"value":"left","label":"Left"},{"value":"center","label":"Center"},{"value":"right","label":"Right"}],
      "default": "center"
    },
    { "type": "select", "id": "background_effect", "label": "Background effect",
      "options": [{"value":"none","label":"None"},{"value":"fixed","label":"Fixed"},{"value":"parallax","label":"Parallax"}],
      "default": "none"
    },

    { "type": "header", "content": "Background color / gradient" },
    { "type": "checkbox", "id": "use_gradient", "label": "Use gradient instead of solid color", "default": true },
    { "type": "color", "id": "background_color", "label": "Solid background color (fallback)", "default": "#ffffff" },

    { "type": "select", "id": "grad_type", "label": "Gradient type",
      "options": [
        { "value": "linear", "label": "Linear" },
        { "value": "radial", "label": "Radial" }
      ],
      "default": "linear"
    },
    { "type": "range", "id": "grad_angle", "label": "Linear angle (°)", "min": 0, "max": 360, "step": 5, "default": 135, "unit": "deg" },

    { "type": "select", "id": "radial_position", "label": "Radial position",
      "options": [
        { "value": "center center", "label": "Center" },
        { "value": "top left", "label": "Top left" },
        { "value": "top center", "label": "Top" },
        { "value": "top right", "label": "Top right" },
        { "value": "center left", "label": "Left" },
        { "value": "center right", "label": "Right" },
        { "value": "bottom left", "label": "Bottom left" },
        { "value": "bottom center", "label": "Bottom" },
        { "value": "bottom right", "label": "Bottom right" }
      ],
      "default": "center center"
    },

    { "type": "color", "id": "grad_color_1", "label": "Gradient color 1", "default": "#ff9a9e" },
    { "type": "range", "id": "grad_stop_1", "label": "Stop 1 (%)", "min": 0, "max": 100, "step": 1, "default": 0, "unit": "%" },

    { "type": "color", "id": "grad_color_2", "label": "Gradient color 2", "default": "#fad0c4" },
    { "type": "range", "id": "grad_stop_2", "label": "Stop 2 (%)", "min": 0, "max": 100, "step": 1, "default": 50, "unit": "%" },

    { "type": "checkbox", "id": "enable_grad_color_3", "label": "Add color 3", "default": false },
    { "type": "color", "id": "grad_color_3", "label": "Gradient color 3", "default": "#fcb69f" },
    { "type": "range", "id": "grad_stop_3", "label": "Stop 3 (%)", "min": 0, "max": 100, "step": 1, "default": 75, "unit": "%" },

    { "type": "checkbox", "id": "enable_grad_color_4", "label": "Add color 4", "default": false },
    { "type": "color", "id": "grad_color_4", "label": "Gradient color 4", "default": "#a1c4fd" },
    { "type": "range", "id": "grad_stop_4", "label": "Stop 4 (%)", "min": 0, "max": 100, "step": 1, "default": 100, "unit": "%" },

    { "type": "header", "content": "Content" },
    { "type": "select", "id": "content_alignment", "label": "Content alignment",
      "options": [{"value":"left","label":"Left"},{"value":"center","label":"Center"},{"value":"right","label":"Right"}],
      "default": "left"
    },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Welcome to our store" },
    { "type": "range", "id": "heading_size", "min": 20, "max": 80, "step": 2, "unit": "px", "label": "Heading size", "default": 48 },
    { "type": "color", "id": "heading_color", "label": "Heading color", "default": "#000000" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "Discover our amazing products" },
    { "type": "range", "id": "subheading_size", "min": 14, "max": 40, "step": 1, "unit": "px", "label": "Subheading size", "default": 24 },
    { "type": "color", "id": "subheading_color", "label": "Subheading color", "default": "#333333" },
    { "type": "textarea", "id": "description", "label": "Description", "default": "Browse through our carefully curated collection of products designed to meet your needs." },
    { "type": "range", "id": "description_size", "min": 12, "max": 24, "step": 1, "unit": "px", "label": "Description size", "default": 16 },
    { "type": "color", "id": "description_color", "label": "Description color", "default": "#666666" },

    { "type": "header", "content": "Right side image" },
    { "type": "image_picker", "id": "right_image", "label": "Right side image" },
    { "type": "range", "id": "right_image_radius", "min": 0, "max": 30, "step": 1, "unit": "px", "label": "Image border radius", "default": 8 },
    { "type": "checkbox", "id": "enable_float_animation", "label": "Enable floating animation", "default": true },
    { "type": "range", "id": "float_intensity", "min": 5, "max": 30, "step": 1, "unit": "px", "label": "Float intensity", "default": 15 },
    { "type": "range", "id": "float_duration", "min": 2, "max": 8, "step": 1, "unit": "s", "label": "Float duration", "default": 4 },

    { "type": "header", "content": "Categories" },
    { "type": "checkbox", "id": "show_categories", "label": "Show categories", "default": true },
    { "type": "select", "id": "categories_alignment", "label": "Categories alignment",
      "options": [{"value":"left","label":"Left"},{"value":"center","label":"Center"},{"value":"right","label":"Right"}],
      "default": "left"
    },
    { "type": "select", "id": "categories_per_row", "label": "Categories per row",
      "options": [{"value":"1","label":"1"},{"value":"2","label":"2"},{"value":"3","label":"3"},{"value":"4","label":"4"}],
      "default": "2"
    },
    { "type": "select", "id": "categories_per_row_mobile", "label": "Categories per row on mobile",
      "options": [{"value":"1","label":"1"},{"value":"2","label":"2"}],
      "default": "2"
    },
    { "type": "checkbox", "id": "enable_category_shadow", "label": "Enable category shadow", "default": true },

    { "type": "header", "content": "Category image settings" },
    { "type": "text", "id": "category_aspect_ratio", "label": "Image aspect ratio", "default": "4/3",
      "info": "Examples: 1/1 (square), 4/3 (landscape), 3/4 (portrait), 16/9 (wide)" },
    { "type": "select", "id": "image_fit", "label": "Image fit",
      "options": [{"value":"cover","label":"Cover (fill container)"},{"value":"contain","label":"Contain (fit within container)"},{"value":"fill","label":"Fill (stretch to fit)"}],
      "default": "cover"
    },
    { "type": "checkbox", "id": "enable_image_overflow", "label": "Enable image overflow", "default": false },
    { "type": "range", "id": "image_overflow_scale", "min": 1, "max": 2, "step": 0.1, "label": "Image overflow scale", "default": 1.3 },
    { "type": "select", "id": "image_overflow_direction", "label": "Overflow direction",
      "options": [
        {"value":"center","label":"Center"},{"value":"top","label":"Top"},{"value":"bottom","label":"Bottom"},
        {"value":"left","label":"Left"},{"value":"right","label":"Right"},
        {"value":"top-left","label":"Top left"},{"value":"top-right","label":"Top right"},
        {"value":"bottom-left","label":"Bottom left"},{"value":"bottom-right","label":"Bottom right"}
      ],
      "default": "center"
    },

    { "type": "header", "content": "Category 1" },
    { "type": "checkbox", "id": "enable_category_1", "label": "Enable category 1", "default": true },
    { "type": "collection", "id": "category_1", "label": "Collection" },
    { "type": "image_picker", "id": "category_1_image", "label": "Custom image" },
    { "type": "text", "id": "category_1_title", "label": "Custom title" },
    { "type": "checkbox", "id": "show_category_1_title", "label": "Show title", "default": true },

    { "type": "header", "content": "Category 2" },
    { "type": "checkbox", "id": "enable_category_2", "label": "Enable category 2", "default": true },
    { "type": "collection", "id": "category_2", "label": "Collection" },
    { "type": "image_picker", "id": "category_2_image", "label": "Custom image" },
    { "type": "text", "id": "category_2_title", "label": "Custom title" },
    { "type": "checkbox", "id": "show_category_2_title", "label": "Show title", "default": true },

    { "type": "header", "content": "Category 3" },
    { "type": "checkbox", "id": "enable_category_3", "label": "Enable category 3", "default": false },
    { "type": "collection", "id": "category_3", "label": "Collection" },
    { "type": "image_picker", "id": "category_3_image", "label": "Custom image" },
    { "type": "text", "id": "category_3_title", "label": "Custom title" },
    { "type": "checkbox", "id": "show_category_3_title", "label": "Show title", "default": true },

    { "type": "header", "content": "Category 4" },
    { "type": "checkbox", "id": "enable_category_4", "label": "Enable category 4", "default": false },
    { "type": "collection", "id": "category_4", "label": "Collection" },
    { "type": "image_picker", "id": "category_4_image", "label": "Custom image" },
    { "type": "text", "id": "category_4_title", "label": "Custom title" },
    { "type": "checkbox", "id": "show_category_4_title", "label": "Show title", "default": true },

    { "type": "header", "content": "Category style" },
    { "type": "color", "id": "category_bg_color", "label": "Card background color", "default": "#f8f8f8" },
    { "type": "range", "id": "category_bg_opacity", "label": "Card background opacity", "min": 0, "max": 100, "step": 1, "default": 100, "unit": "%" },
    { "type": "color", "id": "category_hover_bg_color", "label": "Card hover background color", "default": "#e8e8e8" },
    { "type": "color", "id": "category_image_bg_color", "label": "Image background color", "default": "#f0f0f0" },
    { "type": "color", "id": "category_text_color", "label": "Text color", "default": "#000000" },
    { "type": "color", "id": "category_hover_text_color", "label": "Hover text color", "default": "#000000" },
    { "type": "color", "id": "category_border_color", "label": "Card border color", "default": "#e5e5e5" },
    { "type": "range", "id": "category_border_width", "label": "Card border width", "min": 0, "max": 8, "step": 1, "default": 1, "unit": "px" },
    { "type": "range", "id": "category_border_radius", "min": 0, "max": 20, "step": 1, "unit": "px", "label": "Card border radius", "default": 8 },
    { "type": "range", "id": "category_image_radius", "min": 0, "max": 20, "step": 1, "unit": "px", "label": "Image border radius", "default": 4 },

    { "type": "header", "content": "Hover effects" },
    { "type": "checkbox", "id": "enable_image_hover_rotate", "label": "Rotate category image on hover", "default": true },
    { "type": "range", "id": "image_hover_rotate_deg", "label": "Rotation amount (deg)", "min": 0, "max": 10, "step": 1, "default": 3, "unit": "deg" }
  ],
  "presets": [{ "name": "Split hero section" }]
}
{% endschema %}
